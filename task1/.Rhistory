library(readr)
?read_rds
read_rds("raw_data/decathlon.rds")
read_rds("raw_data/decathlon.rds", row = FALSE)
read_rds("raw_data/decathlon.rds", row.names = FALSE)
decath_data <- row.names(read_rds("raw_data/decathlon.rds") <- NULL)
decath_data <- read_rds("raw_data/decathlon.rds")
decath_data <- row.names(decath_data) <- NULL
decath_data <- read_rds("raw_data/decathlon.rds")
library(tidyverse)
rownames(decath_data) <- c()
View(decath_data)
decath_data <- read_rds("raw_data/decathlon.rds")
View(decath_data)
decath_data <- rownames_to_column(decath_data, "Competitor")
decath_data %>%
pivot_wider(names_from = Competition,
data_from = Competitor)
decath_data %>%
pivot_wider(names_from = Competition,
data_from = `100m`)
decath_data %>%
pivot_wider(names_from = Competition,
data_from = "100m")
rlang::last_error()
?pivot_wider
decath_data %>%
pivot_wider(., names_from = Competition,
values_from = `100m`)
decath_data <- decath_data %>%
pivot_wider(., names_from = Competition,
values_from = `100m`)
decath_data <- decath_data %>%
pivot_wider(., names_from = Competition,
values_from = Competitor)
decath_data <- rownames_to_column(decath_data, "Competitor")
decath_data <- decath_data %>%
pivot_wider(., names_from = Competition,
values_from = Competitor)
View(decath_data)
decath_data <- rownames_to_column(decath_data, "Competitor")
decath_data <- read_rds("raw_data/decathlon.rds")
decath_data <- rownames_to_column(decath_data, "Competitor")
decath_data <- decath_data %>%
pivot_wider(., names_from = Competition,
values_from = Competitor)
decath_data <- read_rds("raw_data/decathlon.rds")
decath_data <- rownames_to_column(decath_data, "Competitor")
View(decath_data)
decath_data %>%
pivot_wider(., names_from = Competition,
values_from = Rank)
here()
library(here)
here()
library(readr)
library(tidyverse)
library(janitor)
decath_data <- read_rds("raw_data/decathlon.rds")
# Changing row names into "Competitor variable"
decath_data <- rownames_to_column(decath_data, "Competitor") %>%
clean_names()
# cleaning to long format, moving columns and changing column names
decath_data <- decath_data %>%
pivot_longer(cols = c(2:11),
names_to = "event",
values_to = "result") %>%
rename(competiton_rank = rank, competition_points = points) %>%
relocate(event, result, .before = competiton_rank)
decath_data <- decath_data %>%
mutate(competitor = str_to_lower(competitor))
write_csv(decath_data, "clean_data/decath_data.csv")
library(here)
here()
decath_data <- read_csv(here("clean_data/decath_data.csv"))
decath_data %>%
filter(event == "long_jump") %>%
slice_max(result, n = 1)
decath_data %>%
select(result, event, competition) %>%
group_by(competition) %>%
filter(event == "x100m") %>%
summarise(across(where(is.numeric), mean))
decath_data %>%
group_by(competitor, competition_points) %>%
summarise() %>%
summarise(across(where(is.numeric), sum)) %>%
slice_max(competition_points)
decath_data %>%
filter(event == "shot_put") %>%
group_by(competition) %>%
slice_max(result, n = 3)
decath_data %>%
filter(event == "x400m") %>%
group_by(result <= 50) %>%
summarise(avg_points = mean(competition_points))
